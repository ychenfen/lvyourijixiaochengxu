<!--å¤©æ°”æŸ¥è¯¢é¡µ-->
<view class="page">
  <!-- åŸå¸‚é€‰æ‹© -->
  <view class="city-section">
    <view class="current-city" bindtap="chooseCity">
      <text class="city-icon">ğŸ“</text>
      <text class="city-name">{{currentCity}}</text>
      <text class="city-arrow">â–¼</text>
    </view>
    <view class="hot-cities">
      <view 
        class="hot-city {{currentCity === item.name ? 'active' : ''}}" 
        wx:for="{{hotCities}}" 
        wx:key="name"
        bindtap="selectCity"
        data-city="{{item}}"
      >
        {{item.name}}
      </view>
    </view>
  </view>

  <!-- å½“å‰å¤©æ°” -->
  <view class="current-weather" wx:if="{{weather}}">
    <view class="weather-main">
      <text class="weather-icon">{{weather.icon}}</text>
      <view class="weather-info">
        <text class="temperature">{{weather.temperature}}Â°C</text>
        <text class="description">{{weather.description}}</text>
      </view>
    </view>
    <view class="weather-details">
      <view class="detail-item">
        <text class="detail-label">ä½“æ„Ÿæ¸©åº¦</text>
        <text class="detail-value">{{weather.feelsLike}}Â°C</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">æ¹¿åº¦</text>
        <text class="detail-value">{{weather.humidity}}%</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">é£é€Ÿ</text>
        <text class="detail-value">{{weather.windSpeed}}m/s</text>
      </view>
      <view class="detail-item">
        <text class="detail-label">æ°”å‹</text>
        <text class="detail-value">{{weather.pressure}}hPa</text>
      </view>
    </view>
  </view>
  <view class="weather-loading" wx:else>
    <text>æ­£åœ¨è·å–å¤©æ°”ä¿¡æ¯...</text>
  </view>

  <!-- 7å¤©é¢„æŠ¥ -->
  <view class="forecast-section" wx:if="{{forecast.length > 0}}">
    <view class="section-title">7å¤©å¤©æ°”é¢„æŠ¥</view>
    <scroll-view scroll-x class="forecast-scroll">
      <view class="forecast-list">
        <view class="forecast-item" wx:for="{{forecast}}" wx:key="date">
          <text class="forecast-day">{{item.dayText}}</text>
          <text class="forecast-date">{{item.dateText}}</text>
          <text class="forecast-icon">{{item.icon}}</text>
          <text class="forecast-desc">{{item.description}}</text>
          <view class="forecast-temp">
            <text class="temp-high">{{item.tempMax}}Â°</text>
            <text class="temp-low">{{item.tempMin}}Â°</text>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- æ—…è¡Œå»ºè®® -->
  <view class="tips-section" wx:if="{{weather}}">
    <view class="section-title">æ—…è¡Œå»ºè®®</view>
    <view class="tips-list">
      <view class="tip-item">
        <text class="tip-icon">ğŸ‘•</text>
        <view class="tip-content">
          <text class="tip-title">ç©¿è¡£æŒ‡æ•°</text>
          <text class="tip-desc">{{tips.clothing}}</text>
        </view>
      </view>
      <view class="tip-item">
        <text class="tip-icon">â˜‚ï¸</text>
        <view class="tip-content">
          <text class="tip-title">é›¨ä¼æŒ‡æ•°</text>
          <text class="tip-desc">{{tips.umbrella}}</text>
        </view>
      </view>
      <view class="tip-item">
        <text class="tip-icon">ğŸƒ</text>
        <view class="tip-content">
          <text class="tip-title">è¿åŠ¨æŒ‡æ•°</text>
          <text class="tip-desc">{{tips.sport}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
